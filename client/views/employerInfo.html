<template name = 'Emp'>
  <nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="{{pathFor route='home'}}">Employer Match</a>
      </div>
      <div id="navbar" class="collapse navbar-collapse">
        <ul class="nav navbar-nav">
          <li><a href="{{pathFor route='home'}}">Home</a></li>
          <li><a href="{{pathFor route='about'}}">About</a></li>
          <li><a href="{{pathFor route='contact'}}">Contact</a></li>
          {{#if currentUser}}
            <li><a href="{{pathFor route='profile'}}">Profile</a></li>
            <li><a href="{{pathFor route='information'}}">Information</a></li>
            <li><a href="{{pathFor route='tSurvey'}}">Personal Survey</a></li>
            <li class="active"><a href="{{pathFor route='Emp'}}">Rate Employer</a></li>
            <li><a href="#">Matches</a></li>
          {{/if}}
        </ul>
        {{#if currentUser}}
          {{> empDashboard}}
        {{/if}}
      </div><!--/.nav-collapse -->
    </div>
  </nav>

  <div class="container">
    <div class="starter-template">
        <h1>Please fill out your Employer information.</h1>
        {{> employerInfo}}
        <br>
        <br>
        {{#if currentUser}}
          {{#if isInRole 'Talent'}}
            {{> jobInfo}}
            {{> empStatus}}

            {{#if isFormer}}
              {{> reasons_left}}
            {{else}}
              {{> jobFeeling}}
            {{/if}}

          {{/if}}

        {{/if}}


    </div>
  </div>

</template>



<template name = 'employerInfo'>
  {{#autoForm schema='CompanySchema' id='currentCompanyForm'}}
      <fieldset class = 'form-group'>
        <legend>
          Employer Information
        </legend>

        <div class = 'col-md-5'>
          {{> afQuickField name='companyName' }}
        </div>
        <div class = 'col-md-5'>
          {{> afQuickField name='address' }}
        </div>
        <div class = 'col-md-5'>
          {{> afQuickField name='city' }}
        </div>
        <div class = 'col-md-5'>
          {{> afQuickField name='state'}}
        </div>
        <div class = 'col-md-3'>
          {{> afQuickField name='zip'}}
        </div>
      </fieldset>

      <fieldset class = 'form-group'>
        <div class = 'col-md-4'>
          {{> afQuickField name='remote' }}
        </div>
      </fieldset>

      <fieldset class = 'form-group'>
        <div class = 'col-md-4'>
          {{> afQuickField name='curr_or_form'}}
        </div>
      </fieldset>
      {{#if currentUser}}
        <input type = "submit" class = 'btn btn-primary btn-lg' value = "Finish employer information">
      {{else}}
        <input type = "submit" class = 'btn btn-primary btn-lg' href="{{pathFor route='rateEmployer'}}" value = "Rate Employer">

      {{/if}}



  {{/autoForm}}
</template>



<template name = 'jobInfo'>
  {{#autoForm schema='JobInfo' id='jobInfoForm'}}
      <fieldset class = 'form-group'>
        <legend>
          Job Information
        </legend>
        <div class = 'col-md-5'>
          {{> afQuickField name='title' }}
        </div>
        <div class = 'col-md-2'>
          {{> afQuickField name='start_date' }}
        </div>
      </fieldset>

      <fieldset class = 'form-group'>
        <div class = 'col-md-4'>
          {{> afQuickField name='promoted' options='allowed' noselect=true}}
        </div>
          {{#if afFieldValueIs name="promoted" value="Yes"}}
          <div class = 'col-md-4'>
            {{> afQuickField name='promo_date' }}
          </div>
          {{/if}}
      </fieldset>


        <input type = "submit" class = 'btn btn-primary btn-lg' value = "Enter job information">
    {{/autoForm}}
</template>




<template name = 'empStatus'>
  {{#autoForm schema='EmpStatus' id='statusForm'}}
    <fieldset class = 'form-group'>
      <legend>
        Employment Status
      </legend>

      {{> afQuickField name='status' options='allowed' noselect=true}}

      {{#if afFieldValueIs name='status' value= 'Other'}}
      <div class = 'col-md-4'>
        {{> afQuickField name= 'other'}}
      </div>
      {{/if}}
      <div class = 'col-md-4'>
      {{> afQuickField name='hours' }}
      </div>
    </fieldset>
    <input type = "submit" class = 'btn btn-primary btn-lg' value = "Enter status information">

  {{/autoForm}}

</template>



<template name = 'jobFeeling'>
  {{#autoForm schema='Job_Feelings' id='feelingsForm'}}
    <fieldset>
      <legend>
        Feelings toward Job
      </legend>

      <br>
      {{> afQuickField name='job_satisfaction' }}
      <br>
      <br>
      {{> afQuickField name='performance' }}
      <br>
      <br>
      {{> afQuickField name='career' }}
      <br>
      <br>
      {{> afQuickField name='leaving' }}
      <br>
      <br>
      {{> afQuickField name='values' }}
      <br>
      <br>
      {{> afQuickField name='cooperate' }}
      <br>
      <br>
      {{> afQuickField name='assist' }}
      <br>
      <br>
      {{> afQuickField name='actions' }}
      <br>
      <br>
      <input type = "submit" class = 'btn btn-primary btn-lg' value = "Enter job satisfaction">
    </fieldset>
  {{/autoForm}}

</template>



<template name = 'reasons_left'>
  {{#autoForm schema='Reasons' id='reasonsForm'}}
    <fieldset>
      <legend>
        Reason for leaving former employer
      </legend>
      {{> afQuickField name='choice' options='allowed' noselect=true }}
      <br>
      {{#if afFieldValueIs name="choice" value="Yes"}}
          {{> afQuickField name='yes_reasons' options='allowed' noselect=true}}
          {{#if afFieldValueIs name='yes_reasons' value='Other'}}
            {{> afQuickField name='other'}}
          {{/if}}
      {{/if}}
      {{#if afFieldValueIs name='choice' value="No"}}
        {{> afQuickField name='no_reasons' options='allowed' noselect=true}}
        {{#if afFieldValueIs name='no_reasons' value='Other'}}
            {{> afQuickField name='other'}}
        {{/if}}
      {{/if}}
    </fieldset>
    <input type = "submit" class = 'btn btn-primary btn-lg' value = "Enter reason">
  {{/autoForm}}

</template>

<template name="empDashboard">
    <div class="row navbar-right">
      <p class = 'logged_in_name'>Logged in as {{email}}</p>
      <button type="submit" class="btn btn-info logout">Logout</button>
    </div>


</template>
